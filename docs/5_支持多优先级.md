现在开始，任务中我们开始加入优先级的功能。在 FreeRTOS 中，数字优先级越小，逻辑优先级也越小，这与隔壁的 RT-Thread和 μC/OS 刚好相反。

就绪列表 pxReadyTasksLists[ configMAX_PRIORITIES ]是一个数组，数组里面存的是
就绪任务的 TCB（准确来说是 TCB 里面的 xStateListItem 节点），数组的下标对应任务的优先级，优先级越低对应的数组下标越小。空闲任务的优先级最低，对应的是下标为 0 的链表。

任务在创建的时候，会根据任务的优先级将任务插入到就绪列表不同的位置。相同优
先级的任务插入到就绪列表里面的同一条链表中，这就是我们下一章要讲解的支持时间片。
pxCurrenTCB是一个全局的 TCB 指针，用于指向优先级最高的就绪任务的 TCB，即当
前正在运行的 TCB。那么我们要想让任务支持优先级，即只要解决在任务切换
（taskYIELD）的时候，让 pxCurrenTCB 指向最高优先级的就绪任务的 TCB 就可以，pxCurrenTCB 在任务切换的时候指向最高优先级的就绪任务的 TCB 即可，那问题的关键就是：如何找到最高优先级的就绪任务的 TCB。

FreeRTOS 提供了两套方法，一套是通用的，一套是根据特定的处理器优化过的，接下来我们重点讲解下这两个方法。

优化方法，用了 Cortex-M 内核的一个计算前导零的指令CLZ。

所谓前导零就是计算一个变量（Cortex-M 内核单片机的变量为 32位）从高位开始第
一次出现 1 的位的前面的零的个数。

不必再使用通用的循环查找方式。
